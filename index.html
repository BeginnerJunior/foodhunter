import React, { useState } from 'react';
import { MapPin, Utensils, ShoppingCart, CheckCircle2, ExternalLink, Coffee, Search } from 'lucide-react';

const App = () => {
  const [activeTab, setActiveTab] = useState('all');
  const [checkedItems, setCheckedItems] = useState({});

  const toggleCheck = (id) => {
    setCheckedItems(prev => ({ ...prev, [id]: !prev[id] }));
  };

  const locations = [
    { id: 'r1', name: 'Ichiran Ramen', area: 'Chains', desc: '‡∏£‡∏≤‡πÄ‡∏°‡∏á‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö ‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï‡∏ï‡∏•‡∏≠‡∏î‡∏Å‡∏≤‡∏•', maps: 'Ichiran Ramen Tokyo' },
    { id: 'r2', name: 'Hakata Furyu (Ueno)', area: 'Ueno', desc: '‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏™‡πâ‡∏ô‡πÑ‡∏°‡πà‡∏≠‡∏±‡πâ‡∏ô (Kaedama)', maps: 'Hakata Furyu Ueno' },
    { id: 'r3', name: "I'm Donut (Harajuku)", area: 'Harajuku', desc: '‡πÇ‡∏î‡∏ô‡∏±‡∏ó‡πÅ‡∏õ‡πâ‡∏á‡∏ô‡∏∏‡πà‡∏° ‡∏Ñ‡∏¥‡∏ß‡∏¢‡∏≤‡∏ß‡πÅ‡∏ï‡πà‡∏Ñ‡∏∏‡πâ‡∏°', maps: "I'm Donut Harajuku" },
    { id: 'r4', name: 'Ramen Hayashida Shinjuku', area: 'Shinjuku', desc: '‡∏£‡∏≤‡πÄ‡∏°‡∏á‡∏ã‡∏∏‡∏õ‡πÄ‡∏õ‡πá‡∏î/‡πÑ‡∏Å‡πà ‡∏™‡πÑ‡∏ï‡∏•‡πå Local', maps: 'Ramen Hayashida Shinjuku' },
    { id: 'r5', name: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ä‡∏µ‡∏™‡∏ó‡∏≠‡∏î‡∏¢‡∏∑‡∏î‡πÜ (Asakusa)', area: 'Asakusa', desc: 'Asakusa Menchi ‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏ß‡∏±‡∏î‡∏≠‡∏≤‡∏ã‡∏≤‡∏Å‡∏∏‡∏™‡∏∞', maps: 'Asakusa Menchi' },
    { id: 'r6', name: 'Pain Maison (Shio Pan)', area: 'Asakusa', desc: '‡∏ä‡∏¥‡πÇ‡∏≠‡∏∞‡∏õ‡∏±‡∏á (‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á‡πÄ‡∏Å‡∏•‡∏∑‡∏≠) ‡∏ï‡πâ‡∏ô‡∏ï‡∏≥‡∏£‡∏±‡∏ö', maps: 'Pain Maison Asakusa' },
    { id: 'r7', name: 'Milk Shop Luck', area: 'Akihabara', desc: '‡∏ä‡∏≤‡∏ô‡∏ä‡∏≤‡∏•‡∏≤‡∏ó‡∏µ‡πà 5-6 JR Akihabara (Sobu Line)', maps: 'Milk Shop Luck Akihabara' },
    { id: 'r8', name: 'Saizeriya', area: 'Chains', desc: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏¥‡∏ï‡∏≤‡πÄ‡∏•‡∏µ‡∏¢‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î ‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏™‡∏≤‡∏Ç‡∏≤', maps: 'Saizeriya Tokyo' },
    { id: 'r9', name: 'Tsujihan (Tokyo Midtown)', area: 'Roppongi', desc: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏•‡∏≤‡∏î‡∏¥‡∏ö‡∏ó‡∏µ‡πà‡∏•‡∏¥‡∏ã‡πà‡∏≤‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô (Kaisendon)', maps: 'Tsujihan Tokyo Midtown' },
    { id: 'r10', name: 'Gyukatsu Motomura', area: 'Ueno / Shinjuku', desc: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ä‡∏∏‡∏ö‡πÅ‡∏õ‡πâ‡∏á‡∏ó‡∏≠‡∏î‡∏ö‡∏ô‡∏´‡∏¥‡∏ô‡∏£‡πâ‡∏≠‡∏ô', maps: 'Gyukatsu Motomura' },
    { id: 'r11', name: 'Hama Sushi', area: 'Chains', desc: '‡∏ã‡∏π‡∏ä‡∏¥‡∏™‡∏≤‡∏¢‡∏û‡∏≤‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î', maps: 'Hama Sushi Tokyo' },
    { id: 'r12', name: 'Shubusen (Ginza)', area: 'Ginza', desc: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏ã‡πá‡∏ï ‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤ 700 ‡πÄ‡∏¢‡∏ô ‡∏ñ‡∏π‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏¢‡πá‡∏ô', maps: 'Shubusen Ginza' },
    { id: 'r13', name: 'Mo-Mo-Paradise', area: 'Shinjuku', desc: '‡∏ö‡∏∏‡∏ü‡πÄ‡∏ü‡∏ï‡πå‡∏ä‡∏≤‡∏ö‡∏π‡∏ï‡πâ‡∏ô‡∏ï‡∏≥‡∏£‡∏±‡∏ö (Kabukicho)', maps: 'Mo-Mo-Paradise Shinjuku' },
    { id: 'r14', name: 'Beef Cutlet (Kawaguchiko)', area: 'Kawaguchiko', desc: '‡∏Å‡∏¥‡∏ß‡∏Ñ‡∏±‡∏ï‡∏™‡∏∂‡πÅ‡∏ñ‡∏ß‡∏Ñ‡∏≤‡∏ß‡∏≤‡∏Å‡∏∏‡∏à‡∏¥‡πÇ‡∏Å‡∏∞', maps: 'Gyukatsu Kawaguchiko' },
    { id: 'r15', name: 'Sha Bu Yo (Kawa)', area: 'Kawaguchiko', desc: '‡∏ö‡∏∏‡∏ü‡πÄ‡∏ü‡∏ï‡πå‡∏ä‡∏≤‡∏ö‡∏π‡∏£‡∏≤‡∏Ñ‡∏≤‡∏î‡∏µ (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 900 ‡∏ö‡∏≤‡∏ó)', maps: 'Shabuyo Kawaguchiko' },
    { id: 'r16', name: 'Gusto (Kawa)', area: 'Kawaguchiko', desc: 'Family Restaurant ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î', maps: 'Gusto Kawaguchiko' },
    { id: 'r17', name: 'Sushi Be', area: 'Local', desc: '‡∏£‡πâ‡∏≤‡∏ô‡∏ã‡∏π‡∏ä‡∏¥‡πÉ‡∏Å‡∏•‡πâ‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å', maps: 'Sushi be Tokyo' },
    { id: 'r18', name: 'Sushiro (Kawa)', area: 'Kawaguchiko', desc: '‡∏ô‡∏±‡πà‡∏á‡∏ö‡∏±‡∏™‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏õ‡πâ‡∏≤‡∏¢ 67 (‡∏´‡πà‡∏≤‡∏á 1.5 ‡∏Å‡∏°.)', maps: 'Sushiro Kawaguchiko' },
    { id: 's1', name: 'Sukiya', area: 'Budget Sets', desc: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏õ‡∏¥‡∏î 24 ‡∏ä‡∏°.', maps: 'Sukiya Tokyo' },
    { id: 's2', name: 'Yoshinoya', area: 'Budget Sets', desc: '‡πÄ‡∏ã‡πá‡∏ï‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏ä‡πâ‡∏≤‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤', maps: 'Yoshinoya Tokyo' },
    { id: 's3', name: 'Matsuya', area: 'Budget Sets', desc: '‡∏°‡∏µ‡∏ã‡∏∏‡∏õ‡∏°‡∏¥‡πÇ‡∏ã‡∏∞‡πÉ‡∏´‡πâ‡∏ü‡∏£‡∏µ‡πÉ‡∏ô‡πÄ‡∏ã‡πá‡∏ï', maps: 'Matsuya Tokyo' },
  ];

  const conveniItems = [
    { name: 'Smoothie', brand: '7-11', desc: '‡∏õ‡∏±‡πà‡∏ô‡∏™‡∏î‡πÉ‡∏ô‡∏ï‡∏π‡πâ' },
    { name: '‡∏û‡∏∏‡∏î‡∏î‡∏¥‡πâ‡∏á‡∏ï‡∏±‡∏ß‡∏î‡∏±‡∏á', brand: 'All', desc: '‡∏ù‡∏≤‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô/‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á' },
    { name: '‡∏ä‡∏≤‡∏°‡∏∞‡∏ô‡∏≤‡∏ß‡∏£‡∏π‡∏õ‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á', brand: 'All', desc: 'Kirin Afternoon Tea' },
    { name: '‡∏ö‡∏¥‡∏™‡∏Å‡∏¥‡∏ï‡πÑ‡∏ß‡∏ó‡πå‡∏ä‡πá‡∏≠‡∏Ñ', brand: '7-11', desc: '‡∏ñ‡∏∏‡∏á‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≤‡∏ß' },
    { name: '‡πÑ‡∏Å‡πà‡∏ó‡∏≠‡∏î Karaage-kun', brand: 'Lawson', desc: '‡∏ï‡∏π‡πâ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ñ‡∏≤‡∏ô‡πå‡πÄ‡∏ï‡∏≠‡∏£‡πå' },
    { name: '‡πÑ‡∏Å‡πà‡πÄ‡∏ú‡πá‡∏î FamiChiki', brand: 'FamilyMart', desc: '‡πÑ‡∏Å‡πà‡∏ó‡∏≠‡∏î‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å' },
    { name: '‡πÅ‡∏ã‡∏ô‡∏ß‡∏¥‡∏ä‡πÑ‡∏Ç‡πà', brand: 'FamilyMart', desc: '‡∏Ñ‡∏£‡∏µ‡∏°‡∏°‡∏µ‡πà‡∏ô‡∏∏‡πà‡∏°‡∏°‡∏≤‡∏Å' },
    { name: 'Calbee Pizza', brand: 'All', desc: '‡∏°‡∏±‡∏ô‡∏ù‡∏£‡∏±‡πà‡∏á‡∏ó‡∏≠‡∏î‡∏£‡∏™‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤' },
    { name: 'Nissin ‡∏ï‡πâ‡∏°‡∏¢‡∏≥‡∏Å‡∏∏‡πâ‡∏á', brand: 'All', desc: '‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô‡πÅ‡∏ö‡∏ö‡πÑ‡∏ó‡∏¢' },
    { name: "Welch's Grape", brand: 'All', desc: '‡∏ô‡πâ‡∏≥‡∏≠‡∏á‡∏∏‡πà‡∏ô‡∏°‡πà‡∏ß‡∏á‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô' },
    { name: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏õ‡∏±‡πâ‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏õ‡πâ‡∏≤‡∏¢‡∏¥‡πâ‡∏°', brand: 'FamilyMart', desc: '‡πÇ‡∏≠‡∏ô‡∏¥‡∏Å‡∏¥‡∏£‡∏¥‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï' },
    { name: '‡∏ô‡∏°‡∏™‡∏ï‡∏£‡∏≠‡∏ß‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ', brand: 'FamilyMart', desc: '‡∏°‡∏µ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏ï‡∏£‡∏≠‡∏ß‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏£‡∏µ' },
    { name: 'Souffle Pudding', brand: 'FamilyMart', desc: '‡∏Ç‡∏ô‡∏°‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1 ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ü‡∏°‡∏¥‡∏•‡∏µ‡πà‡∏°‡∏≤‡∏£‡πå‡∏ó' },
  ];

  const areas = ['all', 'Ueno', 'Shinjuku', 'Asakusa', 'Kawaguchiko', 'Harajuku', 'Chains', 'Budget Sets'];

  const filteredLocations = activeTab === 'all' 
    ? locations 
    : locations.filter(loc => loc.area === activeTab || loc.area.includes(activeTab));

  const openMaps = (query) => {
    window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`, '_blank');
  };

  return (
    <div className="min-h-screen bg-slate-50 font-sans pb-12">
      {/* Header */}
      <div className="bg-red-600 text-white p-6 shadow-lg sticky top-0 z-10">
        <h1 className="text-2xl font-bold flex items-center gap-2">
          <MapPin size={24} /> Tokyo Food Map & Guide
        </h1>
        <p className="text-red-100 text-sm mt-1">‡∏£‡∏ß‡∏°‡∏•‡∏≤‡∏¢‡πÅ‡∏ó‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏á‡∏Å‡∏¥‡∏ô‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô</p>
      </div>

      {/* Tabs / Filters */}
      <div className="flex overflow-x-auto p-4 gap-2 no-scrollbar bg-white border-b sticky top-[76px] z-10">
        {areas.map(area => (
          <button
            key={area}
            onClick={() => setActiveTab(area)}
            className={`px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${
              activeTab === area ? 'bg-red-600 text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200'
            }`}
          >
            {area.charAt(0).toUpperCase() + area.slice(1)}
          </button>
        ))}
      </div>

      <div className="max-w-md mx-auto p-4 space-y-8">
        {/* Restaurants List */}
        <section>
          <div className="flex items-center gap-2 mb-4">
            <Utensils className="text-red-600" size={20} />
            <h2 className="text-lg font-bold text-slate-800">‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ({filteredLocations.length})</h2>
          </div>
          <div className="space-y-3">
            {filteredLocations.map(loc => (
              <div key={loc.id} className="bg-white rounded-xl shadow-sm border border-slate-100 p-4 hover:shadow-md transition-shadow">
                <div className="flex justify-between items-start">
                  <div className="flex-1">
                    <div className="flex items-center gap-2">
                      <span className="px-2 py-0.5 bg-red-50 text-red-600 text-[10px] font-bold rounded uppercase">
                        {loc.area}
                      </span>
                      <h3 className="font-bold text-slate-800">{loc.name}</h3>
                    </div>
                    <p className="text-sm text-slate-500 mt-1">{loc.desc}</p>
                  </div>
                  <button 
                    onClick={() => openMaps(loc.maps)}
                    className="ml-4 p-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100"
                    title="Open in Maps"
                  >
                    <ExternalLink size={18} />
                  </button>
                </div>
              </div>
            ))}
          </div>
        </section>

        {/* Convenience Store Items */}
        <section className="bg-white rounded-2xl p-5 shadow-sm border border-slate-100">
          <div className="flex items-center gap-2 mb-4">
            <ShoppingCart className="text-green-600" size={20} />
            <h2 className="text-lg font-bold text-slate-800">7-11, Lawson, FamilyMart</h2>
          </div>
          <div className="space-y-2">
            {conveniItems.map((item, index) => (
              <div 
                key={index}
                onClick={() => toggleCheck(`item-${index}`)}
                className={`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-all ${
                  checkedItems[`item-${index}`] 
                    ? 'bg-green-50 border-green-200' 
                    : 'bg-slate-50 border-transparent hover:border-slate-200'
                }`}
              >
                <div className="flex items-center gap-3">
                  <div className={`transition-colors ${checkedItems[`item-${index}`] ? 'text-green-600' : 'text-slate-300'}`}>
                    <CheckCircle2 size={20} />
                  </div>
                  <div>
                    <p className={`text-sm font-medium ${checkedItems[`item-${index}`] ? 'text-green-700 line-through' : 'text-slate-700'}`}>
                      {item.name}
                    </p>
                    <p className="text-[10px] text-slate-500 uppercase font-bold tracking-wider">{item.brand} ‚Ä¢ {item.desc}</p>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </section>

        {/* Tips section */}
        <section className="bg-yellow-50 border border-yellow-200 rounded-xl p-4">
          <h3 className="text-yellow-800 font-bold text-sm mb-2 flex items-center gap-2">
            üí° ‡∏Ç‡πâ‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
          </h3>
          <ul className="text-xs text-yellow-700 space-y-1 list-disc pl-4">
            <li><strong>Tsujihan:</strong> ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡∏¥‡∏ß‡∏ô‡∏≤‡∏ô‡∏´‡∏ô‡πà‡∏≠‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏õ‡∏™‡∏≤‡∏Ç‡∏≤‡πÉ‡∏ô‡∏´‡πâ‡∏≤‡∏á‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏õ‡∏¥‡∏î</li>
            <li><strong>JR Akihabara:</strong> ‡∏£‡πâ‡∏≤‡∏ô‡∏ô‡∏° Milk Shop Luck ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏ä‡∏≤‡∏ô‡∏ä‡∏≤‡∏•‡∏≤ ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ö‡∏±‡∏ï‡∏£‡πÅ‡∏ï‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ</li>
            <li><strong>Kawaguchiko:</strong> ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏≠‡∏ö‡∏£‡∏ñ‡∏ö‡∏±‡∏™‡∏™‡∏µ‡∏ü‡πâ‡∏≤ (Blue Line) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏õ‡∏£‡πâ‡∏≤‡∏ô‡∏ã‡∏π‡∏ä‡∏¥‡πÇ‡∏£‡πà</li>
            <li><strong>Souffle Pudding:</strong> ‡πÉ‡∏ô FamilyMart ‡∏°‡∏±‡∏Å‡∏à‡∏∞‡∏ß‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÇ‡∏ã‡∏ô‡∏ï‡∏π‡πâ‡πÅ‡∏ä‡πà‡πÄ‡∏¢‡πá‡∏ô‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏≤‡∏ô‡πå‡πÄ‡∏ï‡∏≠‡∏£‡πå</li>
          </ul>
        </section>
      </div>
    </div>
  );
};

export default App;
